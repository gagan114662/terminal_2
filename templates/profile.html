{% extends "base.html" %}

{% block title %}{{ user.username }}'s Profile - Simple Blog{% endblock %}

{% block content %}
    <div class="profile">
        <h2>{{ user.username }}'s Profile</h2>
        <div class="profile-info">
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Member since:</strong> {{ user.created_at.strftime('%B %d, %Y') }}</p>
            <p><strong>Total posts:</strong> {{ posts|length }}</p>
        </div>

        <h3>Posts by {{ user.username }}</h3>
        {% if posts %}
            <div class="posts">
                {% for post in posts %}
                    <article class="post-card">
                        <h4><a href="{{ url_for('view_post', post_id=post.id) }}">{{ post.title }}</a></h4>
                        <div class="post-meta">
                            Posted on {{ post.created_at.strftime('%B %d, %Y') }}
                        </div>
                        <div class="post-preview">
                            {{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}
                        </div>
                        <a href="{{ url_for('view_post', post_id=post.id) }}" class="read-more">Read more â†’</a>
                    </article>
                {% endfor %}
            </div>
        {% else %}
            <p class="empty-state">No posts yet.</p>
        {% endif %}
    </div>
{% endblock %}